{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"introduction/","title":"Introduction","text":"<p>Although Proxbox is under constant development, I do it with best effort and spare time. I have no financial gain with this and hope you guys understand, as I know it is pretty useful to some people. If you want to speed up its development, solve the problem or create new features with your own code and create a Pull Request so that I can review it. I also would like to appreciate the people who already contributed with code or/and bug reports. Without this help, surely Proxbox would be much less useful as it is already today to several environments!</p>   ### [New Documentation available!](https://proxbox.netbox.dev.br/)"},{"location":"introduction/#netbox-plugin-which-integrates-proxmox-and-netbox","title":"Netbox Plugin which integrates Proxmox and Netbox!","text":"<p>NOTE: Although the Proxbox plugin is in development, it only use GET requests and there is no risk to harm your Proxmox environment by changing things incorrectly.</p> <p></p> <p>Proxbox is currently able to get the following information from Proxmox:</p> <ul> <li>Cluster name</li> <li>Nodes:</li> <li>Status (online / offline)</li> <li>Name</li> <li>Virtual Machines and Containers:</li> <li>Status (online / offline)</li> <li>Name</li> <li>ID</li> <li>CPU</li> <li>Disk</li> <li>Memory</li> <li>Node (Server)</li> </ul>   ### Versions   The following table shows the Netbox and Proxmox versions compatible (tested) with Proxbox plugin.  | netbox version | proxmox version | proxbox version | | ------------- |-------------|-------------| | &gt;= v3.4.0 | &gt;= v6.2.0  | =v0.0.5 | | &gt;= v3.2.0 | &gt;= v6.2.0 | =v0.0.4 | | &gt;= v3.0.0 &lt; v3.2 | &gt;= v6.2.0 | =v0.0.3 |"},{"location":"introduction/#summary","title":"Summary","text":"<p>1. Installation - 1.1. Install package   - 1.1.1. Using pip (production use)   - 1.1.2. Using git (development use) - 1.2. Enable the Plugin - 1.3. Configure Plugin   - 1.3.1. Change Netbox 'configuration.py' to add PLUGIN parameters   - 1.3.2. Change Netbox 'settings.py' to include Proxbox Template directory - 1.4. Run Database Migrations - 1.5 Restart WSGI Service</p> <p>2. Configuration Parameters</p> <p>3. Custom Fields - 3.1. Custom Field Configuration     - 3.1.1. Proxmox ID     - 3.1.2. Proxmox Node     - 3.1.3. Proxmox Type     - 3.1.4. Proxmox Keep Interface - 3.2. Custom Field Example</p> <p>4. Usage</p> <p>5. Enable Logs</p> <p>6. Contributing</p> <p>7. Roadmap</p> <p>8. Get Help from Community!</p>"},{"location":"introduction/#1-installation","title":"1. Installation","text":"<p>The instructions below detail the process for installing and enabling Proxbox plugin. The plugin is available as a Python package in pypi and can be installed with pip.</p>"},{"location":"introduction/#11-install-package","title":"1.1. Install package","text":""},{"location":"introduction/#111-using-pip-production-use","title":"1.1.1. Using pip (production use)","text":"<p>Enter Netbox's virtual environment. <pre><code>source /opt/netbox/venv/bin/activate\n</code></pre></p> <p>Install the plugin package. <pre><code>(venv) $ pip install netbox-proxbox\n</code></pre></p>"},{"location":"introduction/#112-using-git-development-use","title":"1.1.2. Using git (development use)","text":"<p>OBS: This method is recommend for testing and development purposes and is not for production use.</p> <p>Move to netbox main folder <pre><code>cd /opt/netbox/netbox\n</code></pre></p> <p>Clone netbox-proxbox repository <pre><code>git clone https://github.com/netdevopsbr/netbox-proxbox.git\n</code></pre></p> <p>Install netbox-proxbox <pre><code>cd netbox-proxbox\nsource /opt/netbox/venv/bin/activate\npython3 setup.py develop\n</code></pre></p>"},{"location":"introduction/#12-enable-the-plugin","title":"1.2. Enable the Plugin","text":"<p>Enable the plugin in /opt/netbox/netbox/netbox/configuration.py: <pre><code>PLUGINS = ['netbox_proxbox']\n</code></pre></p>"},{"location":"introduction/#13-configure-plugin","title":"1.3. Configure Plugin","text":""},{"location":"introduction/#131-change-netbox-configurationpy-to-add-plugin-parameters","title":"1.3.1. Change Netbox 'configuration.py' to add PLUGIN parameters","text":"<p>The plugin's configuration is also located in /opt/netbox/netbox/netbox/configuration.py:</p> <p>Replace the values with your own following the Configuration Parameters section.</p> <p>OBS: You do not need to configure all the parameters, only the one's different from the default values. It means that if you have some value equal to the one below, you can skip its configuration. For netbox you should ensure the domain/port either targets gunicorn or a true http port that is not redirected to https.</p> <pre><code>PLUGINS_CONFIG = {\n    'netbox_proxbox': {\n        'proxmox': {\n            'domain': 'proxbox.example.com',    # May also be IP address\n            'http_port': 8006,\n            'user': 'root@pam',   # always required\n            'password': 'Strong@P4ssword', # only required, if you don't want to use token based authentication\n            'token': {\n                'name': 'tokenID',  # Only type the token name and not the 'user@pam:tokenID' format\n                'value': '039az154-23b2-4be0-8d20-b66abc8c4686'\n            },\n            'ssl': False\n        },\n        'netbox': {\n            'domain': 'localhost',     # Ensure localhost is added to ALLOWED_HOSTS\n            'http_port': 8001,     # Gunicorn port.\n            'token': '0dd7cddfaee3b38bbffbd2937d44c4a03f9c9d38',\n            'ssl': False,   # There is no support to SSL on Netbox yet, so let it always False.\n            'settings': {\n                'virtualmachine_role_id' : 0,\n                'node_role_id' : 0,\n                'site_id': 0\n            }\n        }\n    }\n</code></pre> <p></p>"},{"location":"introduction/#132-change-netbox-settingspy-to-include-proxbox-template-directory","title":"1.3.2. Change Netbox 'settings.py' to include Proxbox Template directory","text":"<p>Probably on the next release of Netbox, it will not be necessary to make the configuration below! As the Pull Request #8733 got merged to develop branch</p> <p>It is no longer necessary to modify the templates section in <code>settings.py</code> and you may revert any changes.</p>"},{"location":"introduction/#14-run-database-migrations","title":"1.4. Run Database Migrations","text":"<pre><code>(venv) $ cd /opt/netbox/netbox/\n(venv) $ python3 manage.py migrate\n</code></pre>"},{"location":"introduction/#15-restart-wsgi-service","title":"1.5. Restart WSGI Service","text":"<p>Restart the WSGI service to load the new plugin: <pre><code># sudo systemctl restart netbox\n</code></pre></p>"},{"location":"introduction/#2-configuration-parameters","title":"2. Configuration Parameters","text":"<p>The following options are available:</p> <ul> <li><code>proxmox</code>: (Dict) Proxmox related configuration to use proxmoxer.</li> <li><code>proxmox.domain</code>: (String) Domain or IP address of Proxmox.</li> <li><code>proxmox.http_port</code>: (Integer) Proxmox HTTP port (default: 8006).</li> <li><code>proxmox.user</code>: (String) Proxmox Username.</li> <li><code>proxmox.password</code>: (String) Proxmox Password.</li> <li><code>proxmox.token</code>: (Dict) Contains Proxmox TokenID (name) and Token Value (value).</li> <li><code>proxmox.token.name</code>: (String) Proxmox TokenID.</li> <li><code>proxmox.token.value</code>: (String) Proxmox Token Value.</li> <li> <p><code>proxmox.ssl</code>: (Bool) Defines the use of SSL (default: False).</p> </li> <li> <p><code>netbox</code>: (Dict) Netbox related configuration to use pynetbox.</p> </li> <li><code>netbox.domain</code>: (String) Domain or IP address of Netbox. Ensure name or ip is added to <code>ALLOWED_HOSTS</code></li> <li><code>netbox.http_port</code>: (Integer) Netbox HTTP PORT (default: 8001).  If you are not targeting gunicorn directly make sure the HTTP port is not redirected to HTTPS by your HTTP server.</li> <li><code>netbox.token</code>: (String) Netbox Token Value.</li> <li><code>netbox.ssl</code>: (Bool) Defines the use of SSL (default: False). - Proxbox doesn't support SSL on Netbox yet.</li> <li><code>netbox.settings</code>: (Dict) Default items of Netbox to be used by Proxbox. </li> <li>If not configured, Proxbox will automatically create a basic configuration to make it work.</li> <li>The ID of each item can be easily found on the URL of the item you want to use.</li> <li><code>netbox.settings.virtualmachine_role_id</code>: (Integer) Role ID to be used by Proxbox when creating Virtual Machines</li> <li><code>netbox.settings.node_role_id</code>: (Integer) Role ID to be used by Proxbox when creating Nodes (Devices)</li> <li><code>netbox.settings.site_id</code> (Integer) Site ID to be used by Proxbox when creating Nodes (Devices)</li> </ul>"},{"location":"introduction/#3-custom-fields","title":"3. Custom Fields","text":"<p>To get Proxmox ID, Node and Type information, is necessary to configure Custom Fields. Below the parameters needed to make it work:</p> <p></p>"},{"location":"introduction/#31-custom-field-configuration","title":"3.1. Custom Field Configuration","text":""},{"location":"introduction/#311-proxmox-id","title":"3.1.1. Proxmox ID","text":"<p>Required values (must be equal) - [Custom Field] Type: Integer - [Custom Field] Name: proxmox_id - [Assignment] Content-type: Virtualization &gt; virtual machine - [Validation Rules] Minimum value: 0</p> <p>Optional values (may be different) - [Custom Field] Label: [Proxmox] ID - [Custom Field] Description: Proxmox VM/CT ID</p> <p></p>"},{"location":"introduction/#312-proxmox-node","title":"3.1.2. Proxmox Node","text":"<p>Required values (must be equal) - [Custom Field] Type: Text - [Custom Field] Name: proxmox_node - [Assignment] Content-type: Virtualization &gt; virtual machine</p> <p>Optional values (may be different) - [Custom Field] Label: [Proxmox] Node - [Custom Field] Description: Proxmox Node (Server)</p> <p></p>"},{"location":"introduction/#313-proxmox-type-qemu-or-lxc","title":"3.1.3. Proxmox Type (qemu or lxc)","text":"<p>Required values (must be equal) - [Custom Field] Type: Selection - [Custom Field] Name: proxmox_type - [Assignment] Content-type: Virtualization &gt; virtual machine - [Choices] Choices: qemu,lxc</p> <p>Optional values (may be different) - [Custom Field] Label: [Proxmox] Type - [Custom Field] Description: Proxmox type (VM or CT)</p> <p></p>"},{"location":"introduction/#314-proxmox-keep-interface","title":"3.1.4. Proxmox Keep Interface","text":"<p>Required values (must be equal) - [Custom Field] Type: Boolean (true/false) - [Custom Field] Name: proxmox_keep_interface - [Assignment] Content-type: DCIM &gt; Interface</p> <p></p>"},{"location":"introduction/#32-custom-field-example","title":"3.2. Custom Field Example","text":""},{"location":"introduction/#4-usage","title":"4. Usage","text":"<p>If everything is working correctly, you should see in Netbox's navigation the Proxmox VM/CT button in Plugins dropdown list.</p> <p>On Proxmox VM/CT page, click button </p> <p>It will redirect you to a new page and you just have to wait until the plugin runs through all Proxmox Cluster and create the VMs and CTs in Netbox.</p> <p>OBS: Due the time it takes to full update the information, your web brouse might show a timeout page (like HTTP Code 504) even though it actually worked.</p>"},{"location":"introduction/#5-enable-logs","title":"5. Enable Logs","text":"<p>So that Proxbox plugin logs what is happening to the terminal, copy the following code and paste to <code>configuration.py</code> Netbox configuration file:</p> <pre><code>LOGGING = {\n    'version': 1,\n    'disable_existing_loggers': False,\n    'handlers': {\n        'console': {\n            'class': 'logging.StreamHandler',\n        },\n    },\n    'root': {\n        'handlers': ['console'],\n        'level': 'INFO',\n    },\n}\n</code></pre> <p>You can customize this using the following link: Django Docs - Logging. Although the above standard configuration should do the trick to things work.</p>"},{"location":"introduction/#6-contributing","title":"6. Contributing","text":"<p>Developing tools for this project based on ntc-netbox-plugin-onboarding repo.</p> <p>Issues and pull requests are welcomed.</p>"},{"location":"introduction/#7-roadmap","title":"7. Roadmap","text":"<ul> <li>Start using custom models to optimize the use of the Plugin and stop using 'Custom Fields'</li> <li>Automatically remove Nodes on Netbox when removed on Promox (as it already happens with Virtual Machines and Containers)</li> <li>Add individual update of VM/CT's and Nodes (currently is only possible to update all at once)</li> <li>Add periodic update of the whole environment so that the user does not need to manually click the update button.</li> <li>Create virtual machines and containers directly on Netbox, having no need to access Proxmox.</li> <li>Add 'Console' button to enable console access to virtual machines</li> </ul>"},{"location":"introduction/#8-get-help-from-community","title":"8. Get Help from Community!","text":"<p>If you are struggling to get Proxbox working, feel free to contact someone from community (including me) to help you. Below some of the communities available: - Official - Slack Community (english) - Community Discord Channel - \ud83c\udde7\ud83c\uddf7 (pt-br) - Community Telegram Chat - \ud83c\udde7\ud83c\uddf7 (pt-br)</p>"},{"location":"roadmap/","title":"Roadmap","text":"<ul> <li>Automatically remove Nodes on Netbox when removed on Promox (as it already happens with Virtual Machines and Containers)</li> <li>Add individual update of VM/CT's and Nodes (currently is only possible to update all at once)</li> <li>Create virtual machines and containers directly on Netbox, having no need to access Proxmox GUI.</li> <li>Add 'Console' button to enable console access to virtual machines</li> <li>Full adoption of FastAPI framework</li> <li>Background Jobs to sync data between the systems</li> <li>Add periodic update of the whole environment so that the user does not need to manually click the update button.</li> <li>Improve Documentation</li> <li>Translate Documentation to Portuguese (pt-br) for brazilian community</li> <li>Multi-Cluster suppport</li> </ul> <p>If you wish to have another feature or functionality not present today and not mentioned here, checkout Issues and/or Discussions to view if there's already ongoing work. If not, feel free to start opening a discussion and expects feedback from community so that it is approved and transferred to GitHub Issues.</p>"},{"location":"configuration/","title":"ProxBox Configuration","text":"<p>How to configure Proxbox! Ongoing work.</p>"},{"location":"configuration/required-parameters/","title":"Required Parameters","text":""},{"location":"features/api-integration/","title":"API Integration","text":""},{"location":"features/background-jobs/","title":"Background Jobs","text":""},{"location":"features/backup/","title":"Backups &amp; Proxmox Backup Server","text":""},{"location":"features/containers/","title":"Containers","text":""},{"location":"features/monitoring/","title":"Monitoring &amp; Observability","text":""},{"location":"features/network/","title":"Network (IPAM)","text":""},{"location":"features/storage/","title":"Storage","text":""},{"location":"features/synchronized-data/","title":"Synchronized Data","text":""},{"location":"features/virtual-machine/","title":"Virtual Machine","text":""},{"location":"features/vlan-management/","title":"VLAN Management","text":""},{"location":"installation/","title":"Installation","text":""},{"location":"installation/upgrading/","title":"Upgrading ProxBox","text":""},{"location":"models/containers/","title":"Containers (Data Model)","text":""},{"location":"models/others/","title":"Others Data Models","text":""},{"location":"models/virtual-machine/","title":"Virtual Machine (Data Model)","text":""},{"location":"release-notes/","title":"Summary","text":""},{"location":"release-notes/version-0.0.1/","title":"Version 0.0.1","text":""},{"location":"release-notes/version-0.0.2/","title":"Version 0.0.2","text":""},{"location":"release-notes/version-0.0.3/","title":"Version 0.0.3","text":""},{"location":"release-notes/version-0.0.4/","title":"Version 0.0.4","text":""},{"location":"release-notes/version-0.0.5/","title":"Version 0.0.5","text":""},{"location":"release-notes/version-0.0.6/","title":"Version 0.0.6","text":""}]}